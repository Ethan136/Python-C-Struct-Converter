<?xml version="1.0" encoding="UTF-8"?>
<manual_struct_tests>
    <test_case name="bitfield_no_padding">
        <members>
            <member name="a" type="unsigned int" bit_size="3"/>
            <member name="b" type="unsigned int" bit_size="5"/>
            <member name="c" type="unsigned int" bit_size="8"/>
        </members>
        <total_size>4</total_size>
        <expected_layout>
            <item name="a" type="unsigned int" offset="0" size="4" bit_offset="0" bit_size="3"/>
            <item name="b" type="unsigned int" offset="0" size="4" bit_offset="3" bit_size="5"/>
            <item name="c" type="unsigned int" offset="0" size="4" bit_offset="8" bit_size="8"/>
        </expected_layout>
    </test_case>
    <test_case name="anonymous_bitfield">
        <members>
            <member name="a" type="int" bit_size="3"/>
            <member name="" type="int" bit_size="2"/>
            <member name="b" type="int" bit_size="5"/>
        </members>
        <total_size>4</total_size>
        <expected_layout>
            <item name="a" type="int" offset="0" size="4" bit_offset="0" bit_size="3"/>
            <item name="" type="int" offset="0" size="4" bit_offset="3" bit_size="2"/>
            <item name="b" type="int" offset="0" size="4" bit_offset="5" bit_size="5"/>
        </expected_layout>
    </test_case>
    <test_case name="padding_and_final_padding">
        <members>
            <member name="a" type="char" bit_size="0"/>
            <member name="b" type="int" bit_size="0"/>
        </members>
        <total_size>8</total_size>
        <expected_layout>
            <item name="a" type="char" offset="0" size="1" bit_size="8"/>
            <item name="(padding)" type="padding" offset="1" size="3" bit_size="24"/>
            <item name="b" type="int" offset="4" size="4" bit_size="32"/>
        </expected_layout>
    </test_case>
    <test_case name="empty_struct">
        <members>
        </members>
        <total_size>0</total_size>
        <expected_layout>
        </expected_layout>
    </test_case>
    <test_case name="short_hex_struct">
        <members>
            <member name="a" type="int" bit_size="0"/>
            <member name="b" type="int" bit_size="0"/>
        </members>
        <total_size>8</total_size>
        <expected_layout>
            <item name="a" type="int" offset="0" size="4" bit_size="32"/>
            <item name="b" type="int" offset="4" size="4" bit_size="32"/>
        </expected_layout>
    </test_case>
    <test_case name="long_hex_struct">
        <members>
            <member name="a" type="int" bit_size="0"/>
            <member name="b" type="int" bit_size="0"/>
        </members>
        <total_size>8</total_size>
        <expected_layout>
            <item name="a" type="int" offset="0" size="4" bit_size="32"/>
            <item name="b" type="int" offset="4" size="4" bit_size="32"/>
        </expected_layout>
    </test_case>
</manual_struct_tests> 